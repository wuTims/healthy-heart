<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">app/InputFormLogin.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/CurriculumScreen.js~CurriculumScreen.html">CurriculumScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/DataScreen.js~DataScreen.html">DataScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/FooterComponent.js~FooterComponent.html">FooterComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/HeaderComponent.js~HeaderComponent.html">HeaderComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/HomeScreen.js~HomeScreen.html">HomeScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/InputForm.js~InputForm.html">InputForm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/InputFormLogin.js~InputFormLogin.html">InputFormLogin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/JournalScreen.js~JournalScreen.html">JournalScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/ListItem.js~ListItem.html">ListItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/LoginScreen.js~LoginScreen.html">LoginScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/ResourceScreen.js~ResourceScreen.html">ResourceScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/SettingScreen.js~SettingScreen.html">SettingScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/SignupScreen.js~SignupScreen.html">SignupScreen</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">Curriculum/Week0</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week0/QuizFinishW0.js~JournalInput.html">JournalInput</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week0/Week0A5.js~JournalInput.html">JournalInput</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week0/Week0Content.js~JournalInput.html">JournalInput</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week0/Week0Q1.js~JournalInput.html">JournalInput</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week0/Week0Q2.js~JournalInput.html">JournalInput</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week0/Week0Q3.js~JournalInput.html">JournalInput</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week0/Week0Q4.js~JournalInput.html">JournalInput</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week0/Week0Q5.js~JournalInput.html">JournalInput</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">Curriculum/Week1</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/QuizFinish.js~QuizFinish.html">QuizFinish</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1A1.js~Week1A1.html">Week1A1</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1A2.js~Week1A2.html">Week1A2</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1Content.js~Week1Content.html">Week1Content</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1Q1.js~Week1Q1.html">Week1Q1</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1Q2.js~Week1Q2.html">Week1Q2</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1Q3.js~Week1Q3.html">Week1Q3</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1Q4.js~Week1Q4.html">Week1Q4</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1Q5.js~Week1Q5.html">Week1Q5</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">Curriculum/Week2</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week2/QuizFinishW2.js~QuizFinishW2.html">QuizFinishW2</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week2/Week2A1.js~Week2A1.html">Week2A1</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week2/Week2A2.js~Week2A1.html">Week2A1</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week2/Week2A3.js~Week2A3.html">Week2A3</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week2/Week2Content.js~Week2Content.html">Week2Content</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week2/Week2Q1.js~Week1Q1.html">Week1Q1</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week2/Week2Q2.js~Week2Q2.html">Week2Q2</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week2/Week2Q3.js~Week1Q1.html">Week1Q1</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">Curriculum/Week3</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week3/Week3Content.js~Week3Content.html">Week3Content</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week3/Week3Q1.js~Week3Q1.html">Week3Q1</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week3/Week3Q2.js~Week3Q2.html">Week3Q2</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week3/Week3Q3.js~Week3Q3.html">Week3Q3</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">Curriculum/Week4</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week4/Week4Content.js~Week4Content.html">Week4Content</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week4/Week4Q1.js~Week4Q1.html">Week4Q1</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week4/Week4Q2.js~Week4Q2.html">Week4Q2</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week4/Week4Q3.js~Week4Q3.html">Week4Q3</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">Data</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Data/CalendarView.js~CalendarView.html">CalendarView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Data/DataGraph.js~DataGraph.html">DataGraph</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Data/DataInput.js~DataInput.html">DataInput</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Data/GraphPage.js~GraphPage.html">GraphPage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createLineGraph">createLineGraph</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-userData">userData</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">Journal</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Journal/JournalInput.js~JournalInput.html">JournalInput</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">Resource</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Resource/FAQ.js~FAQ.html">FAQ</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Resource/R1.js~R1.html">R1</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Resource/R2.js~R2.html">R2</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Resource/R3.js~R3.html">R3</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Resource/R4.js~R4.html">R4</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">Setting</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Setting/AddAlarm.js~AddAlarm.html">AddAlarm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Setting/AlarmList.js~AlarmList.html">AlarmList</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Setting/AlarmSetting.js~AlarmSetting.html">AlarmSetting</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Setting/EditAlarm.js~EditAlarm.html">EditAlarm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Setting/UserProfile.js~UserProfile.html">UserProfile</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">app/InputFormLogin.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import React, { Component } from &apos;react&apos;;
import { StyleSheet, View, TextInput, TouchableOpacity, Text, ActivityIndicator} from &apos;react-native&apos;;
import DismissKeyboard from &apos;react-native-dismiss-keyboard&apos;;
import * as firebase from &apos;firebase&apos;;


/**
* Component that handles user login.
* Uses Firebase user authentication to sign in and authenticate user.
*/
export default class InputFormLogin extends Component {
	/**
    * Initialize state fields and Firebase table reference.
    */
	constructor(props) {
		super(props);

		this.state = {
			email: &quot;&quot;,
			password: &quot;&quot;,
			response: &quot;&quot;,
			animating: false
		};

		this.login = this.login.bind(this);
		this.userRef = this.getRef().child(&apos;users&apos;);
		this.authData; 
	}

    /** 
    * Returns the configured Firebase reference.
    * @returns {Firebase} The Firebase reference.
    */
	getRef() {
		return firebase.database().ref();
	}

	navigate(routeName) {
		this.props.navigator.push({
			name: routeName
		})
	}

	/**
	* Async method to login with Firebase.
	* @param {email} email - User input email.
	* @param {password} password - User input password.
	*/
	async login() {
		DismissKeyboard();

		try {
			await firebase.auth().signInWithEmailAndPassword(this.state.email, this.state.password);
			this.setState({
				response: &quot;Login Successful.. redirecting to home&quot;,
				animating: true
			})

			// Current User built into firebase to retrieve uid
			this.authData = await firebase.auth().currentUser;

			this.userRef.child(this.authData.uid).set({
				email: this.state.email,
				password: this.state.password
			});

			setTimeout(() =&gt; {
				this.navigate(&apos;Home&apos;);
			}, 100);

			// Add animation or text for screen loading/transition
		} catch (error) {
			this.setState({
				response: error.toString()
			})
		}
	}

	render () {
		return (
			&lt;View style={styles.container}&gt;
				&lt;TextInput 
				placeholder=&quot;Email&quot;
				keyboardType=&quot;email-address&quot;
				onChangeText = {(email) =&gt; this.setState({email})}
				style={styles.input} 
				/&gt;
				&lt;TextInput 
				placeholder=&quot;Password&quot;
				onChangeText = {(password) =&gt; this.setState({password})}
				style={styles.input} 
				secureTextEntry
				/&gt;
				&lt;TouchableOpacity 
				style={styles.buttonContainer}
				onPress={this.login}&gt;
					&lt;Text style={styles.button}&gt;{this.props.buttonName}&lt;/Text&gt;
				&lt;/TouchableOpacity&gt;
					&lt;Text style={styles.loginText}&gt;Don&apos;t have an account?&lt;/Text&gt;
					&lt;Text 
					style={styles.loginTextLink}
					onPress={() =&gt; {this.navigate(&apos;Signup&apos;)}}&gt;
					Sign up
					&lt;/Text&gt;
					&lt;Text style={styles.response}&gt;{this.state.response}&lt;/Text&gt;
					&lt;ActivityIndicator style={styles.activity} size=&quot;small&quot; animating={this.state.animating} /&gt;
			&lt;/View&gt;
		);
	}

}

const styles = StyleSheet.create({
	container: {
		paddingHorizontal: 40,
		marginBottom: 110
	},
	input: {
		height: 40,
		backgroundColor: &apos;#fff9ea&apos;,
		marginBottom: 20,
		paddingHorizontal: 10,
		borderColor: &apos;black&apos;,
		borderWidth: 1
	},
	buttonContainer: {
		paddingHorizontal: 10,
		backgroundColor: &apos;#fff&apos;,
		paddingVertical: 10,
		borderColor: &apos;white&apos;,
		borderWidth: 1,
		borderRadius: 10
	},
	button: {
		textAlign: &apos;center&apos;
	},
	response: {
		textAlign: &apos;center&apos;,
		paddingTop: 10
	},
	activity: {
		paddingTop: 10
	},
	loginText: {
		textAlign: &apos;center&apos;,
		paddingTop: 20,
		opacity: 0.8
	},
	loginTextLink: {
		textDecorationLine: &apos;underline&apos;,
		paddingTop: 10,
		textAlign: &apos;center&apos;,
		opacity: 0.8
	}

});</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
