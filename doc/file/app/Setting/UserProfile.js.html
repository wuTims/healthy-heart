<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">app/Setting/UserProfile.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/CurriculumScreen.js~CurriculumScreen.html">CurriculumScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/DataScreen.js~DataScreen.html">DataScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/FooterComponent.js~FooterComponent.html">FooterComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/HeaderComponent.js~HeaderComponent.html">HeaderComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/HomeScreen.js~HomeScreen.html">HomeScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/InputForm.js~InputForm.html">InputForm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/InputFormLogin.js~InputFormLogin.html">InputFormLogin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/JournalScreen.js~JournalScreen.html">JournalScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/ListItem.js~ListItem.html">ListItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/LoginScreen.js~LoginScreen.html">LoginScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/ResourceScreen.js~ResourceScreen.html">ResourceScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/SettingScreen.js~SettingScreen.html">SettingScreen</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/SignupScreen.js~SignupScreen.html">SignupScreen</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">Curriculum/Week1</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/QuizFinish.js~QuizFinish.html">QuizFinish</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1A1.js~Week1A1.html">Week1A1</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1A2.js~Week1A2.html">Week1A2</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1Content.js~Week1Content.html">Week1Content</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1Q1.js~Week1Q1.html">Week1Q1</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1Q2.js~Week1Q2.html">Week1Q2</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1Q3.js~Week1Q3.html">Week1Q3</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1Q4.js~Week1Q4.html">Week1Q4</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Curriculum/Week1/Week1Q5.js~Week1Q5.html">Week1Q5</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">Data</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Data/CalendarView.js~CalendarView.html">CalendarView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Data/DataGraph.js~DataGraph.html">DataGraph</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Data/DataInput.js~DataInput.html">DataInput</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Data/GraphPage.js~GraphPage.html">GraphPage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createLineGraph">createLineGraph</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-userData">userData</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">Journal</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Journal/JournalInput.js~JournalInput.html">JournalInput</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">Setting</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Setting/AddAlarm.js~AddAlarm.html">AddAlarm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Setting/AlarmList.js~AlarmList.html">AlarmList</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Setting/AlarmSetting.js~AlarmSetting.html">AlarmSetting</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Setting/EditAlarm.js~EditAlarm.html">EditAlarm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Setting/UserProfile.js~UserProfile.html">UserProfile</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">app/Setting/UserProfile.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import React, { Component } from &apos;react&apos;;
import { AppRegistry, Text, StyleSheet, View , TextInput, Dimensions, Alert} from &apos;react-native&apos;;
import { Content, ListItem, Right, Left, H2, Button, Input, InputGroup, Icon } from &apos;native-base&apos;;
import FooterComponent from &apos;../FooterComponent&apos;; 
import HeaderComponent from &apos;../HeaderComponent&apos;;
import Communications from &apos;react-native-communications&apos;;
import * as firebase from &apos;firebase&apos;;

const dimensionWindow = Dimensions.get(&apos;window&apos;);


export default class UserProfile extends Component {
  constructor(props) {
    super(props);
    this.dataRef = this.getRef().child(&apos;user-profile&apos;);
    this.state = {
      userName: &apos;&apos;,
      phoneNumber: &apos;&apos;,
      doctorNumber: &apos;&apos;,
      doctorEmail: &apos;&apos;,
      response: &quot;&quot;
    }; 
    this.logout = this.logout.bind(this);
    this.getValue();

  }
	navigate(routeName){
        this.props.navigator.push({
            name: routeName
        });
  }

  componentDidMount() {
    this.getValue();
  }

  getValue(){
    this.dataRef.child(&apos;username&apos;).on(&apos;value&apos;, username =&gt; {
      this.setState({userName: username.val()})
    });
    this.dataRef.child(&apos;phonenumber&apos;).on(&apos;value&apos;, phonenumber =&gt; {
      this.setState({phoneNumber: phonenumber.val()})
    });
    this.dataRef.child(&apos;doctornumber&apos;).on(&apos;value&apos;, doctornumber =&gt; {
      this.setState({doctorNumber: doctornumber.val()})
    });
    this.dataRef.child(&apos;doctoremail&apos;).on(&apos;value&apos;, doctoremail =&gt; {
      this.setState({doctorEmail: doctoremail.val()})
    });
  }

  getRef() {
        return firebase.database().ref();
    }

  async logout() {
    try {
        await firebase.auth().signOut();
        this.setState({
          response: &quot;loggin out&quot;
        });
        this.navigate(&apos;Login&apos;)
      } catch (error) {
        console.log(error);
        this.setState({
          response: error.toString()
        })  
       }
    }

  render() {
  return (
          &lt;View style={{flex: 1, flexDirection:&apos;column&apos;}}&gt;
              &lt;HeaderComponent titleText=&apos;User Profile&apos; navigator={this.props.navigator}/&gt;
              &lt;Content&gt;
              &lt;View style={{flex:1, height: Math.round(dimensionWindow.height * 0.7)}}&gt;
          		 &lt;ListItem itemDivider&gt;
    						&lt;Text&gt;Personal Info&lt;/Text&gt;
    					 &lt;/ListItem&gt;
            	 &lt;ListItem&gt;
                	&lt;InputGroup&gt;
                    	&lt;Icon name=&apos;contact&apos;/&gt;
                    	&lt;TextInput
							         style={{height: 40, width: Math.round(dimensionWindow.width * 0.9)}}
            						placeholder= &quot;Username&quot;
            						onChangeText={(userName) =&gt; this.dataRef.update({
                            &quot;username&quot;: userName
                        })}
            						value={this.state.userName}
  						        /&gt;
                	&lt;/InputGroup&gt;
                &lt;/ListItem&gt;
                &lt;ListItem&gt;
                	&lt;InputGroup&gt;
                    	&lt;Icon name=&apos;phone-portrait&apos; /&gt;
                    	&lt;TextInput
      							     style={{height: 40, width: Math.round(dimensionWindow.width * 0.9)}}
            						placeholder= &quot;Phone Number&quot;
            						keyboardType = &apos;numeric&apos;
                        onChangeText={(phonenumber) =&gt; this.dataRef.update({
                            &quot;phonenumber&quot;: phonenumber
                        })}            						
                        value={this.state.phoneNumber}
  						        /&gt;

                	&lt;/InputGroup&gt;
                &lt;/ListItem&gt;
                &lt;ListItem itemDivider&gt;
      						&lt;Text&gt;Doctor&apos;s Info&lt;/Text&gt;
      					&lt;/ListItem&gt;
                &lt;ListItem&gt;
                	&lt;InputGroup&gt;
                    	&lt;Icon name=&apos;call&apos;/&gt;
                    	&lt;TextInput
          							style={{height: 40, width: Math.round(dimensionWindow.width * 0.6)}}
          							keyboardType = &apos;numeric&apos;
                						placeholder= {this.props.userInfo.doctorNumber}
                						onChangeText={(doctornumber) =&gt; this.dataRef.update({
                              &quot;doctornumber&quot;: doctornumber
                            })}
                						value={this.state.doctorNumber}
            						/&gt;
            						&lt;Text style={{fontWeight: &quot;bold&quot;, color: &apos;blue&apos;}} onPress={() =&gt; Communications.phonecall(this.state.doctorNumber, true)}&gt; Call &lt;/Text&gt;
                	    &lt;Text style={{fontWeight: &quot;bold&quot;, color: &apos;blue&apos;}} onPress={() =&gt; Communications.text(this.state.doctorNumber)}&gt; Text &lt;/Text&gt;

              	 &lt;/InputGroup&gt;
                &lt;/ListItem&gt;
                &lt;ListItem&gt;
                	&lt;InputGroup&gt;
                      &lt;Icon name=&apos;mail&apos;/&gt;
                    	&lt;TextInput
      							     style={{height: 40, width: Math.round(dimensionWindow.width * 0.7)}}
            						placeholder= {this.props.userInfo.doctorEmail}
            						onChangeText={(doctoremail) =&gt; this.dataRef.update({
                            &quot;doctoremail&quot;: doctoremail
                        })}
            						value={this.state.doctorEmail}
          						/&gt;
  						        &lt;Text style={{fontWeight: &quot;bold&quot;, color: &apos;blue&apos;}} onPress={() =&gt; Communications.email([&apos;emailAddress1&apos;, &apos;emailAddress2&apos;],null,null,&apos;My Subject&apos;,&apos;My body text&apos;)}&gt; Email &lt;/Text&gt;
                	&lt;/InputGroup&gt;
                &lt;/ListItem&gt;
                &lt;ListItem onPress={this.logout}&gt;
                  &lt;Icon name=&apos;power&apos;/&gt;
                  &lt;Text style={{marginLeft:10, fontWeight:&apos;bold&apos;}}&gt; Logout&lt;/Text&gt;
                &lt;/ListItem&gt;
                &lt;ListItem&gt;
                  &lt;Text&gt; {this.state.response}&lt;/Text&gt;
                &lt;/ListItem&gt;
              &lt;/View&gt;
              &lt;/Content&gt;
              &lt;FooterComponent navigator={this.props.navigator}/&gt;
          &lt;/View&gt;
  );
}
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
